<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>DF822 (debian-formats.DF822)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">debian-formats</a> &#x00BB; DF822</nav><h1>Module <code>DF822</code></h1><p>Low level debian format parser</p></header><dl><dt class="spec type" id="type-name"><a href="#type-name" class="anchor"></a><code><span class="keyword">type</span> name</code><code> = string</code></dt><dt class="spec type" id="type-version"><a href="#type-version" class="anchor"></a><code><span class="keyword">type</span> version</code><code> = string</code></dt><dt class="spec type" id="type-vpkg"><a href="#type-vpkg" class="anchor"></a><code><span class="keyword">type</span> vpkg</code><code> = string * <span><span>(string * string)</span> option</span></code></dt><dt class="spec type" id="type-veqpkg"><a href="#type-veqpkg" class="anchor"></a><code><span class="keyword">type</span> veqpkg</code><code> = string * <span><span>(string * string)</span> option</span></code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.next" class="anchored"><td class="def field"><a href="#type-t.next" class="anchor"></a><code><span class="keyword">mutable</span> next : unit <span>&#45;&gt;</span> string * int;</code></td></tr><tr id="type-t.line" class="anchored"><td class="def field"><a href="#type-t.line" class="anchor"></a><code><span class="keyword">mutable</span> line : int;</code></td></tr><tr id="type-t.cur" class="anchored"><td class="def field"><a href="#type-t.cur" class="anchor"></a><code><span class="keyword">mutable</span> cur : string;</code></td></tr><tr id="type-t.eof" class="anchored"><td class="def field"><a href="#type-t.eof" class="anchor"></a><code><span class="keyword">mutable</span> eof : bool;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-print_warning"><a href="#val-print_warning" class="anchor"></a><code><span class="keyword">val</span> print_warning : <span><span>(<span class="type-var">'a</span>, unit, <span class="type-var">'b</span>, unit)</span> Stdlib.format4</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-dummy_t"><a href="#val-dummy_t" class="anchor"></a><code><span class="keyword">val</span> dummy_t : <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-eof"><a href="#val-eof" class="anchor"></a><code><span class="keyword">val</span> eof : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-cur"><a href="#val-cur" class="anchor"></a><code><span class="keyword">val</span> cur : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-parse_error"><a href="#val-parse_error" class="anchor"></a><code><span class="keyword">val</span> parse_error : <span>?&#8288;s:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-next"><a href="#val-next" class="anchor"></a><code><span class="keyword">val</span> next : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-expect"><a href="#val-expect" class="anchor"></a><code><span class="keyword">val</span> expect : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-is_blank"><a href="#val-is_blank" class="anchor"></a><code><span class="keyword">val</span> is_blank : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-skip_blank_lines"><a href="#val-skip_blank_lines" class="anchor"></a><code><span class="keyword">val</span> skip_blank_lines : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-field_re"><a href="#val-field_re" class="anchor"></a><code><span class="keyword">val</span> field_re : Str.regexp</code></dt><dt class="spec value" id="val-remove_ws"><a href="#val-remove_ws" class="anchor"></a><code><span class="keyword">val</span> remove_ws : string <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-parse_paragraph"><a href="#val-parse_paragraph" class="anchor"></a><code><span class="keyword">val</span> parse_paragraph : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span><span>(string * <span>string list</span>)</span> list</span> option</span></code></dt><dt class="spec value" id="val-single_line"><a href="#val-single_line" class="anchor"></a><code><span class="keyword">val</span> single_line : string <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-token_re"><a href="#val-token_re" class="anchor"></a><code><span class="keyword">val</span> token_re : Str.regexp</code></dt><dt class="spec value" id="val-next_token"><a href="#val-next_token" class="anchor"></a><code><span class="keyword">val</span> next_token : string <span>&#45;&gt;</span> <span>int Stdlib.ref</span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-start_from_fun"><a href="#val-start_from_fun" class="anchor"></a><code><span class="keyword">val</span> start_from_fun : <span>(unit <span>&#45;&gt;</span> string * int)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-start_token_stream"><a href="#val-start_token_stream" class="anchor"></a><code><span class="keyword">val</span> start_token_stream : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-start_from_channel"><a href="#val-start_from_channel" class="anchor"></a><code><span class="keyword">val</span> start_from_channel : IO.input <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt></dl><dl><dt class="spec exception" id="exception-ParseError"><a href="#exception-ParseError" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">ParseError</span> <span class="keyword">of</span> string * int</code></dt></dl><dl><dt class="spec value" id="val-strict_version_re_1"><a href="#val-strict_version_re_1" class="anchor"></a><code><span class="keyword">val</span> strict_version_re_1 : Str.regexp</code></dt><dt class="spec value" id="val-strict_version_re_2"><a href="#val-strict_version_re_2" class="anchor"></a><code><span class="keyword">val</span> strict_version_re_2 : Str.regexp</code></dt><dt class="spec value" id="val-version_re_1"><a href="#val-version_re_1" class="anchor"></a><code><span class="keyword">val</span> version_re_1 : Str.regexp</code></dt><dt class="spec value" id="val-version_re_2"><a href="#val-version_re_2" class="anchor"></a><code><span class="keyword">val</span> version_re_2 : Str.regexp</code></dt><dt class="spec value" id="val-check_version"><a href="#val-check_version" class="anchor"></a><code><span class="keyword">val</span> check_version : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-parse_version"><a href="#val-parse_version" class="anchor"></a><code><span class="keyword">val</span> parse_version : string <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-strict_package_re"><a href="#val-strict_package_re" class="anchor"></a><code><span class="keyword">val</span> strict_package_re : Str.regexp</code></dt><dt class="spec value" id="val-package_re"><a href="#val-package_re" class="anchor"></a><code><span class="keyword">val</span> package_re : Str.regexp</code></dt><dt class="spec value" id="val-check_package_name"><a href="#val-check_package_name" class="anchor"></a><code><span class="keyword">val</span> check_package_name : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-parse_package"><a href="#val-parse_package" class="anchor"></a><code><span class="keyword">val</span> parse_package : string <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-parse_constr_aux"><a href="#val-parse_constr_aux" class="anchor"></a><code><span class="keyword">val</span> parse_constr_aux : bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string * <span><span>(string * string)</span> option</span></code></dt><dt class="spec value" id="val-parse_constr"><a href="#val-parse_constr" class="anchor"></a><code><span class="keyword">val</span> parse_constr : string <span>&#45;&gt;</span> string * <span><span>(string * string)</span> option</span></code></dt><dt class="spec value" id="val-parse_virtual_constr_aux"><a href="#val-parse_virtual_constr_aux" class="anchor"></a><code><span class="keyword">val</span> parse_virtual_constr_aux : bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string * <span><span>(string * string)</span> option</span></code></dt><dt class="spec value" id="val-parse_virtual_constr"><a href="#val-parse_virtual_constr" class="anchor"></a><code><span class="keyword">val</span> parse_virtual_constr : string <span>&#45;&gt;</span> string * <span><span>(string * string)</span> option</span></code></dt><dt class="spec value" id="val-parse_builddeps"><a href="#val-parse_builddeps" class="anchor"></a><code><span class="keyword">val</span> parse_builddeps : string <span>&#45;&gt;</span> <span>(string * <span><span>(string * string)</span> option</span>)</span> * <span><span>(bool * string)</span> list</span></code></dt><dt class="spec value" id="val-parse_source"><a href="#val-parse_source" class="anchor"></a><code><span class="keyword">val</span> parse_source : string <span>&#45;&gt;</span> string * <span>string option</span></code></dt><dt class="spec value" id="val-and_list_parser"><a href="#val-and_list_parser" class="anchor"></a><code><span class="keyword">val</span> and_list_parser : <span>(string <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dt class="spec value" id="val-parse_vpkglist"><a href="#val-parse_vpkglist" class="anchor"></a><code><span class="keyword">val</span> parse_vpkglist : <span>(string <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dt class="spec value" id="val-parse_vpkgformula"><a href="#val-parse_vpkgformula" class="anchor"></a><code><span class="keyword">val</span> parse_vpkgformula : <span>(string <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> list</span></code></dt><dt class="spec value" id="val-parse_veqpkglist"><a href="#val-parse_veqpkglist" class="anchor"></a><code><span class="keyword">val</span> parse_veqpkglist : <span>(string <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt></dl><dl><dt class="spec exception" id="exception-Eof"><a href="#exception-Eof" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Eof</span></code></dt></dl><dl><dt class="spec value" id="val-parse_822_iter"><a href="#val-parse_822_iter" class="anchor"></a><code><span class="keyword">val</span> parse_822_iter : <span>(<span><span>(string * <span>string list</span>)</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> list</span></code></dt><dd><p>parse a 822 compliant file.</p><dl><dt>returns</dt><dd><p>list of packages.</p></dd></dl><dl><dt>parameter parse</dt><dd><p>: paragraph parser</p></dd></dl><dl><dt>parameter f</dt><dd><p>: filter to be applied to each paragraph</p></dd></dl><dl><dt>parameter ExtLib.IO.input</dt><dd><p>channel</p></dd></dl></dd></dl></div></body></html>